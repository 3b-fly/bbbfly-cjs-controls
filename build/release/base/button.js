/*!
 * @author Jan Nejedly support@3b-fly.eu
 * @copyright Jan Nejedly
 * @version 2.0.0
 * @license see license in 'LICENSE' file
*/

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,g){if(b){c=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var e=a[g];e in c||(c[e]={});c=c[e]}a=a[a.length-1];g=c[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");var bbbfly=bbbfly||{};bbbfly.button={};bbbfly.button._getAlt=function(){return String.isString(this.AltRes)?ngTxt(this.AltRes):String.isString(this.Alt)?this.Alt:null};bbbfly.button._getText=function(){return String.isString(this.TextRes)?ngTxt(this.TextRes):String.isString(this.Text)?this.Text:null};
bbbfly.button._getIcon=function(){return Object.isObject(this.Icon)?this.Icon:{}};
bbbfly.button._setIcon=function(a,b,c,g,e){if(a&&b){var h=Number.isInteger(b.W)?b.W:0,l=Number.isInteger(b.H)?b.H:0;Number.isInteger(e)||(e=0);var k=null,q=null,d=null,z=null,n=null,m=null;switch(c){case bbbfly.Btn.iconalign.left:k=e;m=Math.floor(l/2);q="50%";break;case bbbfly.Btn.iconalign.top:q=e;n=Math.floor(h/2);k="50%";break;case bbbfly.Btn.iconalign.right:d=e;m=Math.floor(l/2);q="50%";break;case bbbfly.Btn.iconalign.bottom:z=e,n=Math.floor(h/2),k="50%"}c={};n&&(n=bbbfly.Renderer.StyleDim(n,
!0),c["margin-left"]=n);m&&(m=bbbfly.Renderer.StyleDim(m,!0),c["margin-top"]=m);a.style.visibility=h&&l?"visible":"hidden";return bbbfly.Renderer.SetImage(a,b,k,q,d,z,g,"Icon",c)}};
bbbfly.button._doCreate=function(a,b,c){this.DoCreate.callParent(a,b,c);ngc_PtrEvents(this,"btn",["tap","doubletap"]);a=document.createElement("DIV");a.id=this.ID+"_H";a.style.zIndex=3;a.style.display="block";a.style.position="absolute";a.style.overflow="hidden";c.appendChild(a);this.Icon&&(a=document.createElement("DIV"),a.id=this.ID+"_I",a.style.zIndex=3,a.style.visibility="hidden",c.appendChild(a))};
bbbfly.button._doUpdate=function(a){this.DoUpdate.callParent(a);var b=document.getElementById(this.ID+"_H"),c=document.getElementById(this.ID+"_I");if(a&&b){var g=this.GetAlt(),e=this.GetText(),h=this.GetIcon(),l=this.GetState(),k=!!Object.isObject(h),q=!(!String.isString(g)||!g),d=!(!String.isString(e)||!e),z=!(!this.Enabled||this.ReadOnly||!this.OnClick),n=!(!this.Enabled||this.ReadOnly||!this.OnDblClick),m=l.mouseover;l.mouseover=!1;var f=this.GetFrameDims(),r=null,A=null,v=null,B=null,p=!1;h=
bbbfly.Renderer.ImageProxy(h,l,this.ID+"_I");var w=Number.isInteger(this.Indent)?this.Indent:0,x=Number.isInteger(this.IconGap)?this.IconGap:0;d&&k||(x=0);var y=w,t=Number.isInteger(h.W)?h.W:0,u=Number.isInteger(h.H)?h.H:0;k=0;switch(this.IconAlign){case bbbfly.Btn.iconalign.left:t&&(p=!0,r=0,y+=f.L,f.L+=t+x);k=u;break;case bbbfly.Btn.iconalign.top:u&&(p=!0,A=0,y+=f.T,f.T+=u+x);k=t;break;case bbbfly.Btn.iconalign.right:t&&(p=!0,v=0,y+=f.R,f.R+=t+x);k=u;break;case bbbfly.Btn.iconalign.bottom:u&&(p=
!0,B=0,y+=f.B,f.B+=u+x),k=t}c&&bbbfly.button._setIcon(c,h,this.IconAlign,l,y);c="";if(d){this.HTMLEncode&&(e=ng_htmlEncode(e,!0));d=[];switch(this.TextAlign){case bbbfly.Btn.textalign.right:d.push("float: right");d.push("text-align: right");p||(v=0);break;case bbbfly.Btn.textalign.center:d.push("float: none");d.push("text-align: center");p||(r=0);break;default:d.push("float: left"),d.push("text-align: left"),p||(r=0)}this.Multiline||d.push("white-space: nowrap");d=d.join(";");c+='<div id="'+this.ID+
'_T" class="Text"'+(d?' style="'+d+'"':"")+' unselectable="on">'+e+"</div>"}switch(this.AutoSize){case bbbfly.Btn.autosize.both:break;case bbbfly.Btn.autosize.horizontal:B=A=0;break;case bbbfly.Btn.autosize.vertical:v=r=0;break;default:B=v=A=r=0}q?(this.HTMLEncode&&(g=ng_htmlEncode(g,!1)),a.title=g):a.title="";a.style.cursor=z||n?"pointer":"default";b.style.minWidth=bbbfly.Renderer.StyleDim(0);b.style.minHeight=bbbfly.Renderer.StyleDim(k);b.style.marginLeft=bbbfly.Renderer.StyleDim(f.L+w);b.style.marginTop=
bbbfly.Renderer.StyleDim(f.T+w);b.style.marginRight=bbbfly.Renderer.StyleDim(f.R+w);b.style.marginBottom=bbbfly.Renderer.StyleDim(f.B+w);b.style.left=bbbfly.Renderer.StyleDim(r);b.style.top=bbbfly.Renderer.StyleDim(A);b.style.right=bbbfly.Renderer.StyleDim(v);b.style.bottom=bbbfly.Renderer.StyleDim(B);this._IconProxy=h;l.mouseover=m;c!==this._HolderHtml&&(this._HolderHtml=c,b.innerHTML=c,m&&bbbfly.Renderer.UpdateImageHTML(h,l));this.AutoSize&&(a={},ng_BeginMeasureElement(b),this.AutoSize&bbbfly.Btn.autosize.horizontal&&
(a.W=ng_OuterWidth(b)),this.AutoSize&bbbfly.Btn.autosize.vertical&&(a.H=ng_OuterHeight(b)),ng_EndMeasureElement(b),this.SetBounds(a))}};bbbfly.button._doUpdateImages=function(){var a=this._IconProxy,b=this.GetState();bbbfly.Renderer.UpdateImageProxy(a,b);bbbfly.Renderer.UpdateImageHTML(a,b);this.DoUpdateImages.callParent()};bbbfly.button._doMouseEnter=function(a,b){a=this.DoMouseEnter.callParent(a,b);bbbfly.Renderer.UpdateImageHTML(this._IconProxy,a);return a};
bbbfly.button._doMouseLeave=function(a,b){a=this.DoMouseLeave.callParent(a,b);bbbfly.Renderer.UpdateImageHTML(this._IconProxy,a);return a};bbbfly.button._doPtrClick=function(a){"btn"===a.EventID&&this.Click(a.Event)};bbbfly.button._doPtrDblClick=function(a){"btn"===a.EventID&&this.DblClick(a.Event)};bbbfly.button._click=function(a){this.Enabled&&!this.ReadOnly&&Function.isFunction(this.OnClick)&&this.OnClick(a)};
bbbfly.button._dblClick=function(a){this.Enabled&&!this.ReadOnly&&Function.isFunction(this.OnDblClick)&&this.OnDblClick(a)};bbbfly.button._onClick=function(){this.SelectType&bbbfly.Btn.selecttype.click&&this.SetSelected(!this.Selected)};bbbfly.button._onDblClick=function(){this.SelectType&bbbfly.Btn.selecttype.dblclick&&this.SetSelected(!this.Selected)};bbbfly.button.NormalizeDef=function(a){a=a||{};ng_MergeDef(a,{Methods:{GetState:bbbfly.button._ngGetState,DoUpdate:bbbfly.button._ngDoUpdate}});return a};
bbbfly.button._ngDoUpdate=function(a){this.DoUpdate.callParent(a);a=document.getElementById(this.ID+"_T");bbbfly.Renderer.UpdateHTMLState(a,this.GetState());return!0};bbbfly.button._ngGetState=function(){return{disabled:!this.Enabled,readonly:!!this.ReadOnly,invalid:!!this.Invalid,mouseover:!(!this.Enabled||this.ReadOnly||!ngMouseInControls[this.ID])}};
bbbfly.Btn=function(a,b,c){ng_MergeDef(a,{Data:{Alt:null,AltRes:null,Text:null,TextRes:null,TextAlign:bbbfly.Btn.textalign.left,Icon:null,IconAlign:bbbfly.Btn.iconalign.left,Indent:0,IconGap:0,AutoSize:bbbfly.Btn.autosize.none,SelectType:bbbfly.Btn.selecttype.none,Multiline:!1,HTMLEncode:!0,_IconProxy:null,_HolderHtml:""},Events:{OnClick:bbbfly.button._onClick,OnDblClick:bbbfly.button._onDblClick},Methods:{DoCreate:bbbfly.button._doCreate,DoUpdate:bbbfly.button._doUpdate,DoUpdateImages:bbbfly.button._doUpdateImages,
DoMouseEnter:bbbfly.button._doMouseEnter,DoMouseLeave:bbbfly.button._doMouseLeave,DoPtrClick:bbbfly.button._doPtrClick,DoPtrDblClick:bbbfly.button._doPtrDblClick,GetAlt:bbbfly.button._getAlt,GetText:bbbfly.button._getText,GetIcon:bbbfly.button._getIcon,Click:bbbfly.button._click,DblClick:bbbfly.button._dblClick}});bbbfly.hint&&bbbfly.hint.Hintify(a);return ngCreateControlAsType(a,"bbbfly.Frame",b,c)};bbbfly.Btn.textalign={left:1,center:2,right:3};bbbfly.Btn.iconalign={left:1,top:2,right:3,bottom:4};
bbbfly.Btn.autosize={none:0,horizontal:1,vertical:2,both:3};bbbfly.Btn.selecttype={none:0,click:1,dblclick:2,both:3};bbbfly.Button=function(a,b,c){a=bbbfly.button.NormalizeDef(a);bbbfly.hint&&bbbfly.hint.Hintify(a);return ngCreateControlAsType(a,"ngButton",b,c)};bbbfly.CheckBox=function(a,b,c){a=bbbfly.button.NormalizeDef(a);bbbfly.hint&&bbbfly.hint.Hintify(a);return ngCreateControlAsType(a,"ngCheckBox",b,c)};
bbbfly.RadioButton=function(a,b,c){a=bbbfly.button.NormalizeDef(a);bbbfly.hint&&bbbfly.hint.Hintify(a);return ngCreateControlAsType(a,"ngRadioButton",b,c)};ngUserControls=ngUserControls||[];ngUserControls.bbbfly_strl_button={OnInit:function(){ngRegisterControlType("bbbfly.Btn",bbbfly.Btn);ngRegisterControlType("bbbfly.Button",bbbfly.Button);ngRegisterControlType("bbbfly.CheckBox",bbbfly.CheckBox);ngRegisterControlType("bbbfly.RadioButton",bbbfly.RadioButton)}};
