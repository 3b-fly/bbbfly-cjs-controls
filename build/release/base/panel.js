/*!
 * @author Jan Nejedly support@3b-fly.eu
 * @copyright Jan Nejedly
 * @version 2.0.0
 * @license see license in 'LICENSE' file
*/

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");var bbbfly=bbbfly||{};bbbfly.panel={};bbbfly.frame={};bbbfly.line={};bbbfly.panel._doUpdate=function(a){this.DoUpdateHtmlClass(a);this.DoUpdateHtmlState(a);return!0};bbbfly.panel._doMouseEnter=function(a,b){this.DoUpdateHtmlState(b.Element)};bbbfly.panel._doMouseLeave=function(a,b){this.DoUpdateHtmlState(b.Element)};
bbbfly.panel._doUpdateHtmlClass=function(a){"undefined"===typeof a&&(a=this.Elm());a&&(a.className=this.GetClassName())};bbbfly.panel._doUpdateHtmlState=function(a){"undefined"===typeof a&&(a=this.Elm());if(a){var b=this.GetState();bbbfly.Renderer.UpdateHTMLState(a,b)}};bbbfly.panel._getState=function(){return{disabled:!this.Enabled,readonly:!!this.ReadOnly,invalid:!!this.Invalid,selected:!!this.Selected,mouseover:!(!this.Enabled||this.ReadOnly||!ngMouseInControls[this.ID])}};
bbbfly.panel._getClassName=function(a){return String.isString(a)?this.BaseClassName+a:this.BaseClassName};bbbfly.panel._getControlsHolder=function(){return this};bbbfly.panel._doChangeState=function(a){a?this.Update():(a=this.Elm(),this.DoUpdateHtmlClass(a),this.DoUpdateHtmlState(a))};
bbbfly.panel._setEnabled=function(a,b){Boolean.isBoolean(a)||(a=!0);if(this.Enabled===a)return!0;if(Function.isFunction(this.OnSetEnabled)&&!this.OnSetEnabled(a))return!1;Boolean.isBoolean(b)||(b=!0);this.SetChildControlsEnabled(a,this);this.Enabled=a;this.DoChangeState(b);Function.isFunction(this.OnEnabledChanged)&&this.OnEnabledChanged();return!0};
bbbfly.panel._setInvalid=function(a,b){Boolean.isBoolean(a)||(a=!0);if(this.Invalid===a)return!0;if(Function.isFunction(this.OnSetInvalid)&&!this.OnSetInvalid(a))return!1;Boolean.isBoolean(b)||(b=!0);this.Invalid=a;this.DoChangeState(b);Function.isFunction(this.OnInvalidChanged)&&this.OnInvalidChanged();return!0};
bbbfly.panel._setReadOnly=function(a,b){Boolean.isBoolean(a)||(a=!0);if(a===this.ReadOnly)return!0;if(Function.isFunction(this.OnSetReadOnly)&&!this.OnSetReadOnly(a))return!1;Boolean.isBoolean(b)||(b=!0);this.ReadOnly=a;this.DoChangeState(b);Function.isFunction(this.OnReadOnlyChanged)&&this.OnReadOnlyChanged();return!0};
bbbfly.panel._setSelected=function(a,b){Boolean.isBoolean(a)||(a=!0);if(a===this.Selected)return!0;if(Function.isFunction(this.OnSetSelected)&&!this.OnSetSelected(a))return!1;Boolean.isBoolean(b)||(b=!0);this.Selected=a;this.DoChangeState(b);Function.isFunction(this.OnSelectedChanged)&&this.OnSelectedChanged();return!0};
bbbfly.frame._doCreate=function(a,b,c){if(this.Frame){var d={};null!==a.FramePanel&&(Object.isObject(a.FramePanel)&&(d.FramePanel=ng_CopyVar(a.FramePanel)),ng_MergeDef(d,{FramePanel:{L:0,T:0,R:0,B:0,Type:"bbbfly.Panel",id:this.ID+"_F",ScrollBars:ssNone,style:{zIndex:1},className:"FramePanel",Data:{_FrameProxy:null,_FrameHtml:""}}}));null!==a.ControlsPanel&&(Object.isObject(a.ControlsPanel)&&(d.ControlsPanel=ng_CopyVar(a.ControlsPanel)),ng_MergeDef(d,{ControlsPanel:{L:0,T:0,R:0,B:0,Type:"bbbfly.Panel",
id:this.ID+"_P",ScrollBars:ssAuto,style:{zIndex:2},Controls:a.Controls,ModifyControls:a.ModifyControls,className:"ControlsPanel"}}));a.ParentReferences||(this.Controls={},this.Controls.Owner=this,b=this.Controls);c=ngCreateControls(d,void 0,c);c.ControlsPanel&&(this.ControlsPanel=c.ControlsPanel,this.ControlsPanel.Owner=this);c.FramePanel&&(this.FramePanel=c.FramePanel,this.FramePanel.Owner=this);delete a.Controls;delete a.ModifyControls;delete c.ControlsPanel;delete c.FramePanel;ngCloneRefs(b,c)}};
bbbfly.frame._doUpdate=function(a){this.DoUpdateFrame(a);this.DoUpdateControlsPanel(a);return this.DoUpdate.callParent(a)};bbbfly.frame._doMouseEnter=function(a,b){this.DoMouseEnter.callParent(a,b);if(a=this.GetFramePanel())a=a._FrameProxy,Object.isObject(a)&&(b=this.GetState(),bbbfly.Renderer.UpdateFrameHTML(a,b))};
bbbfly.frame._doMouseLeave=function(a,b){this.DoMouseLeave.callParent(a,b);if(a=this.GetFramePanel())a=a._FrameProxy,Object.isObject(a)&&(b=this.GetState(),bbbfly.Renderer.UpdateFrameHTML(a,b))};bbbfly.frame._doChangeState=function(a){this.DoChangeState.callParent(a);a||this.DoUpdateImages()};
bbbfly.frame._doUpdateFrame=function(a){"undefined"===typeof a&&(a=this.Elm());var b=this.GetFramePanel();if(a&&b){ng_BeginMeasureElement(a);var c=ng_ClientWidth(a),d=ng_ClientHeight(a);ng_EndMeasureElement(a);b.SetBounds({T:0,L:0,W:c,H:d});if(a=b.Elm()){var e=this.GetFrame();c=this.GetState();d=c.mouseover;c.mouseover=!1;e=bbbfly.Renderer.FrameProxy(e,c,this.ID);var f=bbbfly.Renderer.FrameHTML(e,c);c.mouseover=d;b._FrameProxy=e;f!==b._FrameHtml&&(b._FrameHtml=f,a.innerHTML=f,d&&bbbfly.Renderer.UpdateFrameHTML(e,
c))}}};bbbfly.frame._doUpdateImages=function(){var a=this.GetFramePanel();if(a&&(a=a._FrameProxy,Object.isObject(a))){var b=this.GetState();bbbfly.Renderer.UpdateFrameProxy(a,b);bbbfly.Renderer.UpdateFrameHTML(a,b)}};
bbbfly.frame._doUpdateControlsPanel=function(a){"undefined"===typeof a&&(a=this.Elm());var b=this.GetControlsPanel();if(a&&b){ng_BeginMeasureElement(a);var c=ng_ClientWidth(a),d=ng_ClientHeight(a);ng_EndMeasureElement(a);a=this.GetFrameDims();b.SetBounds({W:c-a.L-a.R,H:d-a.T-a.B,T:a.T,L:a.L,R:null,B:null})}};bbbfly.frame._getFrame=function(){return Object.isObject(this.Frame)?this.Frame:{}};
bbbfly.frame._getFrameDims=function(){var a={L:0,T:0,R:0,B:0,W:void 0,H:void 0},b=this.GetFramePanel();b=b?b._FrameProxy:null;Object.isObject(b)&&(Number.isInteger(b.L.W)&&(a.L=b.L.W),Number.isInteger(b.T.H)&&(a.T=b.T.H),Number.isInteger(b.R.W)&&(a.R=b.R.W),Number.isInteger(b.B.H)&&(a.B=b.B.H),Number.isInteger(b.C.W)&&(a.W=b.C.W),Number.isInteger(b.C.H)&&(a.H=b.C.H));return a};bbbfly.frame._getFramePanel=function(){return this.FramePanel?this.FramePanel:null};
bbbfly.frame._getControlsPanel=function(){return this.ControlsPanel?this.ControlsPanel:null};bbbfly.frame._getControlsHolder=function(){var a=this.GetControlsPanel();return a?a:this.GetControlsHolder.callParent()};bbbfly.line._setBounds=function(a){Object.isObject(a)||(a={});var b=this.GetFrameDims();switch(this.Orientation){case bbbfly.Line.orientation.horizontal:a.H=b.T+b.B;Number.isInteger(b.H)&&(a.H+=b.H);break;case bbbfly.Line.orientation.vertical:a.W=b.L+b.R,Number.isInteger(b.W)&&(a.W+=b.W)}return this.SetBounds.callParent(a)};
bbbfly.Panel=function(a,b,c){a=a||{};ng_MergeDef(a,{Data:{Enabled:!0,Invalid:!1,ReadOnly:!1,Selected:!1},ParentReferences:!0,Events:{OnSetEnabled:null,OnEnabledChanged:null,OnSetInvalid:null,OnInvalidChanged:null,OnSetReadOnly:null,OnReadOnlyChanged:null,OnSetSelected:null,OnSelectedChanged:null},Methods:{DoUpdate:bbbfly.panel._doUpdate,DoMouseEnter:bbbfly.panel._doMouseEnter,DoMouseLeave:bbbfly.panel._doMouseLeave,DoChangeState:bbbfly.panel._doChangeState,DoUpdateHtmlClass:bbbfly.panel._doUpdateHtmlClass,
DoUpdateHtmlState:bbbfly.panel._doUpdateHtmlState,GetState:bbbfly.panel._getState,GetClassName:bbbfly.panel._getClassName,GetControlsHolder:bbbfly.panel._getControlsHolder,SetEnabled:bbbfly.panel._setEnabled,SetInvalid:bbbfly.panel._setInvalid,SetReadOnly:bbbfly.panel._setReadOnly,SetSelected:bbbfly.panel._setSelected}});return ngCreateControlAsType(a,"ngPanel",b,c)};
bbbfly.Frame=function(a,b,c){a=a||{};ng_MergeDef(a,{Data:{Frame:!1},FramePanel:void 0,ControlsPanel:void 0,Methods:{DoCreate:bbbfly.frame._doCreate,DoUpdate:bbbfly.frame._doUpdate,DoMouseEnter:bbbfly.frame._doMouseEnter,DoMouseLeave:bbbfly.frame._doMouseLeave,DoChangeState:bbbfly.frame._doChangeState,DoUpdateFrame:bbbfly.frame._doUpdateFrame,DoUpdateImages:bbbfly.frame._doUpdateImages,DoUpdateControlsPanel:bbbfly.frame._doUpdateControlsPanel,GetFrame:bbbfly.frame._getFrame,GetFrameDims:bbbfly.frame._getFrameDims,
GetFramePanel:bbbfly.frame._getFramePanel,GetControlsPanel:bbbfly.frame._getControlsPanel,GetControlsHolder:bbbfly.frame._getControlsHolder}});return ngCreateControlAsType(a,"bbbfly.Panel",b,c)};bbbfly.Line=function(a,b,c){a=a||{};ng_MergeDef(a,{Data:{Orientation:bbbfly.Line.orientation.horizontal},Methods:{SetBounds:bbbfly.line._setBounds}});return ngCreateControlAsType(a,"bbbfly.Frame",b,c)};bbbfly.Line.orientation={vertical:1,horizontal:2};ngUserControls=ngUserControls||[];
ngUserControls.bbbfly_panel={OnInit:function(){ngRegisterControlType("bbbfly.Panel",bbbfly.Panel);ngRegisterControlType("bbbfly.Frame",bbbfly.Frame);ngRegisterControlType("bbbfly.Line",bbbfly.Line)}};
