/*!
 * @author Jan Nejedly support@3b-fly.eu
 * @copyright Jan Nejedly
 * @version 2.0.0
 * @license see license in 'LICENSE' file
*/

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");var bbbfly=bbbfly||{};bbbfly.progressbar={};bbbfly.progressbar._reset=function(){this.EndProcess()};
bbbfly.progressbar._setProgress=function(a,c){Number.isInteger(c)||(c=0);Number.isInteger(a)||(a=0);this._Progress={start:c,end:a};var b=this.Controls.Indicator;if(b){var d=this.GetControlsHolder().Elm();if(d){var e=b.GetFrameDims();e=e.L+e.R;d=ng_ClientWidth(d);d=Math.floor(d-e);b.SetBounds({W:Math.floor(d/100*(a-c))+e+"px",L:Math.floor(d/100*c)+"px",R:null})&&b.Update()}}};bbbfly.progressbar._doProcess=function(a){this.Enabled&&(a%=16,8<a&&(a=16-a),a=Math.floor(10*a),this.SetProgress(a+20,a))};
bbbfly.progressbar._startProcess=function(){var a=this.Controls.Indicator;if(a&&!this._ProcessTimer){if(a=a.Elm())a.style.transitionProperty="left, right",a.style.transitionDuration="99ms";var c=0,b=this;this._ProcessTimer=function(){b.DoProcess(c++);setTimeout(b._ProcessTimer,100)};this.SetProgress(0,0);this._ProcessTimer()}};
bbbfly.progressbar._endProcess=function(){var a=this.Controls.Indicator;if(a&&this._ProcessTimer){if(a=a.Elm())a.style.transitionProperty="",a.style.transitionDuration="";clearTimeout(this._ProcessTimer);this._ProcessTimer=null;this.SetProgress(0,0)}};bbbfly.progressbar._onEnabledChanged=function(){var a=this.Controls.Indicator;a&&a.SetVisible(this.Enabled)};bbbfly.ProgressRing=function(a,c,b){return ngCreateControlAsType(a,"bbbfly.Image",c,b)};
bbbfly.ProgressBar=function(a,c,b){a=a||{};ng_MergeDef(a,{ParentReferences:!1,Data:{_Progress:null,_ProcessTimer:null},Controls:{Indicator:{Type:"bbbfly.Frame",className:"Indicator"}},Events:{OnEnabledChanged:bbbfly.progressbar._onEnabledChanged},Methods:{DoProcess:bbbfly.progressbar._doProcess,Reset:bbbfly.progressbar._reset,SetProgress:bbbfly.progressbar._setProgress,StartProcess:bbbfly.progressbar._startProcess,EndProcess:bbbfly.progressbar._endProcess}});return ngCreateControlAsType(a,"bbbfly.Frame",
c,b)};ngUserControls=ngUserControls||[];ngUserControls.bbbfly_progress={OnInit:function(){ngRegisterControlType("bbbfly.ProgressRing",bbbfly.ProgressRing);ngRegisterControlType("bbbfly.ProgressBar",bbbfly.ProgressBar)}};
