/*!
 * @author Jan Nejedly support@3b-fly.eu
 * @copyright Jan Nejedly
 * @version 2.0.0
 * @license see license in 'LICENSE' file
*/

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var h=a[d];h in c||(c[h]={});c=c[h]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");var bbbfly=bbbfly||{};bbbfly.grid={};bbbfly.grid._onUpdate=function(){this.GetControlsHolder().SetScrollBars(this.AutoSize?ssNone:ssAuto);return!0};
bbbfly.grid._onUpdated=function(){var a=this.GetControlsHolder(),b=a.ChildControls;this._Rows=[];this._Columns=[];if(b&&0<b.length){var c=a.Elm();ng_BeginMeasureElement(c);a=ng_ClientWidth(c);ng_EndMeasureElement(c);var d=b.length;c=Number.isInteger(this.MinColumnWidth)?Math.floor(a/this.MinColumnWidth):1;var h=Math.ceil(d/c);c=Math.ceil(d/h);1>c&&(c=1);d=Math.floor(a/c);Number.isInteger(this.MaxColumnWidth)&&(d=Math.min(d,this.MaxColumnWidth));var f=0,g=0;for(l in b){var e=b[l];this._Rows[g]||(this._Rows[g]=
[]);this._Columns[f]||(this._Columns[f]=[]);this._Rows[g].push(e);this._Columns[f].push(e);e._GridRow=g;e._GridColumn=f;g++;g===h&&(g=0,f++)}b=0;for(var k in this._Rows){var l=this._Rows[k];h=0;for(var m in l)e=l[m],f=e._GridColumn*d,g=d,e._GridColumn+1===c&&(g=a-f,Number.isInteger(this.MaxColumnWidth)&&(g=Math.min(g,this.MaxColumnWidth))),e.SetBounds({T:b,L:f,W:g})&&e.Update(),f=e.Bounds.H,Number.isNumber(f)||(e=e.Elm(),ng_BeginMeasureElement(e),f=ng_ClientHeight(e),ng_EndMeasureElement(e)),f>h&&
(h=f);b+=h}this.AutoSize&&((k=this.GetControlsPanel())&&k.Bounds&&(Number.isNumber(k.Bounds.T)&&(b+=k.Bounds.T),Number.isNumber(k.Bounds.B)&&(b+=k.Bounds.B)),this.SetBounds({H:b})&&this.Update(!1),Function.isFunction(this.OnAutoSized)&&this.OnAutoSized())}return!0};
bbbfly.Grid=function(a,b,c){a=a||{};ng_MergeDef(a,{Data:{AutoSize:!0,MinColumnWidth:200,MaxColumnWidth:void 0,_Rows:[],_Columns:[]},Events:{OnUpdate:bbbfly.grid._onUpdate,OnUpdated:bbbfly.grid._onUpdated,OnAutoSized:null}});return ngCreateControlAsType(a,"bbbfly.Frame",b,c)};ngUserControls=ngUserControls||[];ngUserControls.bbbfly_grid={OnInit:function(){ngRegisterControlType("bbbfly.Grid",bbbfly.Grid)}};
